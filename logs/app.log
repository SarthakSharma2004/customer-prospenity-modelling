2025-11-08 02:37:51 - __main__ - INFO - ML Pipeline started
2025-11-08 02:37:51 - src.data_ingestion - INFO - Loading data from S3: s3://customer-prospenity-data/raw/Travel.csv
2025-11-08 02:37:52 - src.data_ingestion - INFO - Data loaded successfully. Shape: (4888, 20)
2025-11-08 02:37:52 - src.data_ingestion - INFO - Saved sample (1000 rows) to data/raw/sample_travel.csv
2025-11-08 02:37:52 - src.preprocessing - INFO - Data Preprocessing started
2025-11-08 02:37:52 - src.preprocessing - INFO - Cleaned column names
2025-11-08 02:37:52 - src.preprocessing - INFO - Columns : ['CustomerID', 'ProdTaken', 'Age', 'TypeofContact', 'CityTier', 'DurationOfPitch', 'Occupation', 'Gender', 'NumberOfPersonVisiting', 'NumberOfFollowups', 'ProductPitched', 'PreferredPropertyStar', 'MaritalStatus', 'NumberOfTrips', 'Passport', 'PitchSatisfactionScore', 'OwnCar', 'NumberOfChildrenVisiting', 'Designation', 'MonthlyIncome']
2025-11-08 02:37:52 - src.preprocessing - INFO - No Duplicate records. No rows dropped
2025-11-08 02:37:52 - src.preprocessing - INFO - Column dropped: CustomerID. New shape : (4888, 19)
2025-11-08 02:37:52 - src.preprocessing - INFO - There are 13 numerical columns and 6 categorical columns
2025-11-08 02:37:52 - src.preprocessing - INFO - Filled all numeric columns missing values with median values
2025-11-08 02:37:52 - src.preprocessing - INFO - Filled all categorical columns missing values with mode values
2025-11-08 02:37:52 - src.preprocessing - INFO - Converted all numeric columns to int
2025-11-08 02:37:52 - src.preprocessing - INFO - Fixed typo in Gender column
2025-11-08 02:37:52 - src.preprocessing - INFO - Fixed 'Single' to 'Unmarried' in MaritalStatus column
2025-11-08 02:37:52 - src.preprocessing - INFO - Grouped rare categories as 'Other'
2025-11-08 02:37:52 - src.preprocessing - INFO - Created 'TotalPersonVisiting' and 'isChildrenVisiting'
2025-11-08 02:37:52 - src.preprocessing - INFO - Data Preprocessing completed | Shape: (4888, 19)
2025-11-08 02:37:52 - src.preprocessing - INFO - Columns after preprocessing:
['ProdTaken', 'Age', 'TypeofContact', 'CityTier', 'DurationOfPitch', 'Occupation', 'Gender', 'NumberOfFollowups', 'ProductPitched', 'PreferredPropertyStar', 'MaritalStatus', 'NumberOfTrips', 'Passport', 'PitchSatisfactionScore', 'OwnCar', 'Designation', 'MonthlyIncome', 'TotalPersonVisiting', 'isChildrenVisiting']
2025-11-08 02:37:52 - src.preprocessing - INFO - Saving cleaned data to data/cleaned_travel.csv
2025-11-08 02:37:52 - src.preprocessing - INFO - Data saved successfully to data/cleaned_travel.csv
2025-11-08 02:37:52 - src.model_training - INFO - Data Transformation started
2025-11-08 02:37:52 - src.model_training - INFO - Defined dependent and independent variables
2025-11-08 02:37:52 - src.model_training - INFO - Split data into train and test sets
2025-11-08 02:37:52 - src.model_training - INFO - Numeric columns: ['Age', 'CityTier', 'DurationOfPitch', 'NumberOfFollowups', 'PreferredPropertyStar', 'NumberOfTrips', 'Passport', 'PitchSatisfactionScore', 'OwnCar', 'MonthlyIncome', 'TotalPersonVisiting', 'isChildrenVisiting']
2025-11-08 02:37:52 - src.model_training - INFO - Categorical columns: ['TypeofContact', 'Occupation', 'Gender', 'ProductPitched', 'MaritalStatus', 'Designation']
2025-11-08 02:37:52 - src.model_training - INFO - Defined ColumnTransformer for preprocessing
2025-11-08 02:37:52 - src.model_training - INFO - Training model started
2025-11-08 02:37:52 - src.model_training - INFO - ⚖️ Calculated class imbalance ratio: 4.36
2025-11-08 02:37:52 - src.model_training - INFO - Model initialized with params: {'objective': 'binary:logistic', 'base_score': None, 'booster': None, 'callbacks': None, 'colsample_bylevel': None, 'colsample_bynode': None, 'colsample_bytree': None, 'device': None, 'early_stopping_rounds': None, 'enable_categorical': False, 'eval_metric': 'logloss', 'feature_types': None, 'feature_weights': None, 'gamma': None, 'grow_policy': None, 'importance_type': None, 'interaction_constraints': None, 'learning_rate': None, 'max_bin': None, 'max_cat_threshold': None, 'max_cat_to_onehot': None, 'max_delta_step': None, 'max_depth': None, 'max_leaves': None, 'min_child_weight': None, 'missing': nan, 'monotone_constraints': None, 'multi_strategy': None, 'n_estimators': None, 'n_jobs': None, 'num_parallel_tree': None, 'random_state': 42, 'reg_alpha': 0.1, 'reg_lambda': 5, 'sampling_method': None, 'scale_pos_weight': np.float64(4.363511659807956), 'subsample': None, 'tree_method': None, 'validate_parameters': None, 'verbosity': None, 'use_label_encoder': False}
2025-11-08 02:37:52 - src.model_training - INFO - Pipeline created
2025-11-08 02:37:52 - src.model_training - INFO - Model trained successfully
2025-11-08 02:37:52 - src.model_training - INFO - Model Evaluation Metrics: {'accuracy': 0.9519427402862985, 'precision': 0.9090909090909091, 'recall': 0.837696335078534, 'f1': 0.8719346049046321, 'confusion_matrix': array([[771,  16],
       [ 31, 160]])}
2025-11-08 02:37:52 - src.model_training - INFO - Model pipeline saved to best_model_pipeline.pkl
2025-11-08 02:37:52 - __main__ - INFO - ML Pipeline executed successfully
